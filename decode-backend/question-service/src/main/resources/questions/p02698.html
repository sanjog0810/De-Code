<span class="lang-en">
<p>Score : <var>600</var> points</p>
<div class="part">
<section>
<h3>Problem Statement</h3><p>We have a tree with <var>N</var> vertices, whose <var>i</var>-th edge connects Vertex <var>u_i</var> and Vertex <var>v_i</var>.
Vertex <var>i</var> has an integer <var>a_i</var> written on it.
For every integer <var>k</var> from <var>1</var> through <var>N</var>, solve the following problem:</p>
<ul>
<li>We will make a sequence by lining up the integers written on the vertices along the shortest path from Vertex <var>1</var> to Vertex <var>k</var>, in the order they appear. Find the length of the longest increasing subsequence of this sequence.</li>
</ul>
<p>Here, the longest increasing subsequence of a sequence <var>A</var> of length <var>L</var> is the subsequence <var>A_{i_1} , A_{i_2} , ... , A_{i_M}</var> with the greatest possible value of <var>M</var> such that <var>1 \leq i_1 &lt; i_2 &lt; ... &lt; i_M \leq L</var> and <var>A_{i_1} &lt; A_{i_2} &lt; ... &lt; A_{i_M}</var>.</p>
</section>
</div>
<div class="part">
<section>
<h3>Constraints</h3><ul>
<li><var>2 \leq N \leq 2 \times 10^5</var></li>
<li><var>1 \leq a_i \leq 10^9</var></li>
<li><var>1 \leq u_i , v_i \leq N</var></li>
<li><var>u_i \neq v_i</var></li>
<li>The given graph is a tree.</li>
<li>All values in input are integers.</li>
</ul>
</section>
</div>
<hr/>
<div class="io-style">
<div class="part">
<section>
<h3>Input</h3><p>Input is given from Standard Input in the following format:</p>
<pre><var>N</var>
<var>a_1</var> <var>a_2</var> <var>...</var> <var>a_N</var>
<var>u_1</var> <var>v_1</var>
<var>u_2</var> <var>v_2</var>
<var>:</var>
<var>u_{N-1}</var> <var>v_{N-1}</var>
</pre>
</section>
</div>
<div class="part">
<section>
<h3>Output</h3><p>Print <var>N</var> lines. The <var>k</var>-th line, print the length of the longest increasing subsequence of the sequence obtained from the shortest path from Vertex <var>1</var> to Vertex <var>k</var>.</p>
</section>
</div>
</div>
<hr/>
<div class="part">
<section>
<h3>Sample Input 1</h3><pre>10
1 2 5 3 4 6 7 3 2 4
1 2
2 3
3 4
4 5
3 6
6 7
1 8
8 9
9 10
</pre>
</section>
</div>
<div class="part">
<section>
<h3>Sample Output 1</h3><pre>1
2
3
3
4
4
5
2
2
3
</pre>
<p>For example, the sequence <var>A</var> obtained from the shortest path from Vertex <var>1</var> to Vertex <var>5</var> is <var>1,2,5,3,4</var>. Its longest increasing subsequence is <var>A_1, A_2, A_4, A_5</var>, with the length of <var>4</var>.</p></section>
</div>
</span>