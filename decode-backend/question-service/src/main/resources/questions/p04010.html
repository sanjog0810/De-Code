<span class="lang-en">
<p>Score : <var>2200</var> points</p>
<div class="part">
<section>
<h3>Problem Statement</h3><p>You are given an undirected graph with <var>N</var> vertices and <var>M</var> edges.
Here, <var>N-1≤M≤N</var> holds and the graph is connected.
There are no self-loops or multiple edges in this graph.</p>
<p>The vertices are numbered <var>1</var> through <var>N</var>, and the edges are numbered <var>1</var> through <var>M</var>.
Edge <var>i</var> connects vertices <var>a_i</var> and <var>b_i</var>.</p>
<p>The color of each vertex can be either white or black.
Initially, all the vertices are white.
Snuke is trying to turn all the vertices black by performing the following operation some number of times:</p>
<ul>
<li>Select a pair of adjacent vertices with the same color, and invert the colors of those vertices. That is, if the vertices are both white, then turn them black, and vice versa.</li>
</ul>
<p>Determine if it is possible to turn all the vertices black. If the answer is positive, find the minimum number of times the operation needs to be performed in order to achieve the objective.</p>
</section>
</div>
<div class="part">
<section>
<h3>Constraints</h3><ul>
<li><var>2≤N≤10^5</var></li>
<li><var>N-1≤M≤N</var></li>
<li><var>1≤a_i,b_i≤N</var></li>
<li>There are no self-loops or multiple edges in the given graph.</li>
<li>The given graph is connected.</li>
</ul>
</section>
</div>
<div class="part">
<section>
<h3>Partial Score</h3><ul>
<li>In the test set worth <var>1500</var> points, <var>M=N-1</var>.</li>
</ul>
</section>
</div>
<hr/>
<div class="io-style">
<div class="part">
<section>
<h3>Input</h3><p>The input is given from Standard Input in the following format:</p>
<pre><var>N</var> <var>M</var>
<var>a_1</var> <var>b_1</var>
<var>a_2</var> <var>b_2</var>
<var>:</var>
<var>a_M</var> <var>b_M</var>
</pre>
</section>
</div>
<div class="part">
<section>
<h3>Output</h3><p>If it is possible to turn all the vertices black, print the minimum number of times the operation needs to be performed in order to achieve the objective.
Otherwise, print <code>-1</code> instead.</p>
</section>
</div>
</div>
<hr/>
<div class="part">
<section>
<h3>Sample Input 1</h3><pre>6 5
1 2
1 3
1 4
2 5
2 6
</pre>
</section>
</div>
<div class="part">
<section>
<h3>Sample Output 1</h3><pre>5
</pre>
<p>For example, it is possible to perform the operations as shown in the following diagram:</p>
<p><img src="/img/agc/004/gatbantar/F_1.png"/></p>
</section>
</div>
<hr/>
<div class="part">
<section>
<h3>Sample Input 2</h3><pre>3 2
1 2
2 3
</pre>
</section>
</div>
<div class="part">
<section>
<h3>Sample Output 2</h3><pre>-1
</pre>
<p>It is not possible to turn all the vertices black.</p>
<p><img src="/img/agc/004/gatbantar/F_2.png"/></p>
</section>
</div>
<hr/>
<div class="part">
<section>
<h3>Sample Input 3</h3><pre>4 4
1 2
2 3
3 4
4 1
</pre>
</section>
</div>
<div class="part">
<section>
<h3>Sample Output 3</h3><pre>2
</pre>
<p>This case is not included in the test set for the partial score.</p>
<p><img src="/img/agc/004/gatbantar/F_3.png"/></p>
</section>
</div>
<hr/>
<div class="part">
<section>
<h3>Sample Input 4</h3><pre>6 6
1 2
2 3
3 1
1 4
1 5
1 6
</pre>
</section>
</div>
<div class="part">
<section>
<h3>Sample Output 4</h3><pre>7
</pre>
<p>This case is not included in the test set for the partial score.</p>
<p><img src="/img/agc/004/gatbantar/F_4.png"/></p></section>
</div>
</span>